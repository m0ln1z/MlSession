# Система распознавания лиц с озвучкой

Полнофункциональная система распознавания лиц на Python с голосовыми уведомлениями и стабильной работой с камерой.

## Особенности

-  **Стабильная работа с камерой** - исправлены все проблемы с совместимостью
-  **Голосовые уведомления** - система приветствует распознанных людей
-  **Распознавание на фотографиях** - загрузите фото и получите результат
-  **Автоматическое сохранение** - данные о лицах сохраняются для быстрого запуска
-  **Журнал доступа** - ведется лог всех распознаваний с временными метками
-  **Легкое обновление датасета** - добавляйте новых людей без перезапуска

##  Быстрый старт

### 1. Установка
```bash
pip install -r requirements.txt
```

### 2. Подготовка датасета
Создайте папки с фотографиями:
```
dataset/
├── Айбол/
│   ├── photo1.jpg
│   └── photo2.jpg
├── Мария/
│   ├── img1.jpg
│   └── img2.jpg
└── Олег/
    ├── face1.png
    └── face2.png
```

### 3. Запуск системы
```bash
python3 stable_face_recognition.py
```

## Использование

После запуска `stable_face_recognition.py` выберите:

1. **Распознать лицо на фотографии** - укажите путь к изображению
2. **Запустить распознавание с камеры** - работа в реальном времени с озвучкой
3. **Обновить датасет** - после добавления новых фотографий
4. **Показать журнал доступа** - история всех распознаваний
5. **Тест озвучки** - проверка работы голосового движка
6. **Выход**

##  Голосовые функции

Система автоматически озвучивает:
- **"Здравствуйте, [Имя]!"** - при успешном распознавании
- **"Неизвестный человек"** - при неудачном распознавании
- **"Система запущена/отключена"** - при старте/остановке
- **Статус операций** - обновление датасета, ошибки

##  Журнал доступа

Система ведет подробный журнал в файле `access_log.csv`:
```csv
Дата,Время,Имя,Статус,Уверенность
2024-12-24,15:30:25,Айбол,вход разрешён,87.3%
2024-12-24,15:31:10,Неизвестный,попытка входа,23.1%
```

## Советы

- Используйте **четкие фотографии** с хорошо видимым лицом
- **Фронтальный вид** работает лучше профиля
- **3-10 фотографий** на человека для лучшего качества
- **Хорошее освещение** критически важно
- **Размер лица** должен быть не менее 80x80 пикселей

## Устранение проблем

### Камера не работает
- Проверьте подключение камеры
- Разрешите доступ к камере в настройках системы
- Попробуйте другой индекс камеры

### Озвучка не работает
- Проверьте настройки звука системы
- На macOS может потребоваться разрешение в настройках конфиденциальности

### Лица не распознаются
- Используйте четкие фотографии
- Убедитесь, что лицо занимает значительную часть кадра
- Избегайте размытых или слишком темных изображений



